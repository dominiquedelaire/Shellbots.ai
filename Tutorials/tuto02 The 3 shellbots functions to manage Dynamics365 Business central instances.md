# Tuto 02 - The 3 shellbots functions to manage Dynamics365 Business central instances
> Version 2024.01.18.1, Auteur : Dominique Delaire

In this second tutorial, we will see the 3 main functions for managing Business Central instances in order to subsequently use the functions to explore data, data structures and code generation with our ML and AI functions.

![screen1](https://github.com/nuage365/Tutoriels/assets/102873102/30e82b9f-b71e-4c3d-8844-099d6467ba70)


## Prerequisites
* Have a valid Business Central subscription or trial version
* The latest version of the Shellbots OS and the Shellbots AI framework core version 1.2023.08.06
* Have followed or reviewed tutorial 01 : https://github.com/nuage365/Tutoriels/tree/main/IA%20et%20Dynamics%20365%20Business%20Central/Tuto%2001%20-%20Enregistrer%20une%20application%20li%C3%A9e%20%C3%A0%20Business%20Central%20dans%20le%20portail%20Azure%20et%20dans%20BC
  
  
## Get Dynamics 365 Business Central instances from a shellbots context

To obtain the instances already configured in a particular context, simply type the command **"bc_getinstance"**.
As a reminder, a context is a kind of Project. Each project has a context and contains its own vector database. It can contain images, text, ERP data, audio, etc.
![screen2](https://github.com/nuage365/Tutoriels/assets/102873102/17d6ecbf-a222-497a-96f2-40704bfb6343)

## Create a new business central instance for the current context

To add a new Business central instance in order to link it and the framework functions, simply type the command **"bc_addinstance**.
The command asks for different information:
- **The name of the instance**: The name you want which represents your instance. For example, the type of environment prod, dev, etc., the company bc, etc.
- **The Tenant id**: The one you have for your instance. (See Tutorial 01)
- **The Client id**: The one you created in the Azure portal when you registered your application. (See Tutorial 01)
- **The Secret id**: The one you generated in the Azure portal when you registered your application. (See Tutorial 01) When you enter the Secret Id, the interface will not show it on the screen.
- **The BC API base URL**: this corresponds to the base URL for accessing Business Central web services. Please note, it is by Company. If you have several companies, you must create an instance per company :)
  
![screen3](https://github.com/nuage365/Tutoriels/assets/102873102/baddd30b-ac47-45bb-8836-64fcd3d2f03e)

by redoing a bc_getinstance, we obtain our newly created instance in the current context.

![screen4](https://github.com/nuage365/Tutoriels/assets/102873102/b0e28834-3944-43a2-a880-491ce9aa8f39)

## Delete an existing Business Central instance

To delete a Business Central instance in the current context, simply use the command **"bc_removeinstance"**

![screen5](https://github.com/nuage365/Tutoriels/assets/102873102/42d86457-f57c-4456-b246-d969dacaec2a)

After deleting and redoing a bc_getinstance, the instance has been deleted. Please note, if the specified instance had objects generated such as code or a machine learning model, you will need to use the **"bc_objects_export_all"** command before you can delete an instance. This is to avoid losing objects generated by the shellbots AI engine.

![screen6](https://github.com/nuage365/Tutoriels/assets/102873102/98fe7d76-1474-41e8-933a-d6001762ad95)

If you have any questions, feel free to send me a connection on Linkedin at https://www.linkedin.com/in/dominiquedelaire/
